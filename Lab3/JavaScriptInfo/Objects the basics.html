<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 4.1 -->
<!-- 1 -->
    <script>
        let user = {};
        user.name = "John";
        user.surname = "Smith";
        user.name = "Pete";
        delete user.name;
    </script>
<!-- 2 -->
    <script>
        function isEmpty(obj) {
            for (let key in obj) {
                // if the loop has started, there is a property
                return false;
            }
            return true;
        }
    </script>
<!-- 3 -->
    <script>
        let salaries = {
            John: 100,
            Ann: 160,
            Pete: 130
        };

        let sum = 0;
        for (let key in salaries) {
            sum += salaries[key];
        }

        alert(sum);
    </script>
<!-- 4 -->
    <script>
        function multiplyNumeric(obj) {
            for (let key in obj) {
                if (typeof obj[key] == 'number') {
                    obj[key] *= 2;
                }
            }
        }
    </script>

    <!-- 4.4 -->
<!-- 1 -->
    <script>
        function makeUser() {
            return {
                name: "John",
                ref: this
            };
        }

        let user = makeUser();

        alert( user.ref.name );
    </script>
<!-- 2 -->
    <script>
        let calculator = {
        sum() {
            return this.a + this.b;
        },

        mul() {
            return this.a * this.b;
        },

        read() {
            this.a = +prompt('a?', 0);
            this.b = +prompt('b?', 0);
        }
        };

        calculator.read();
        alert( calculator.sum() );
        alert( calculator.mul() );
    </script>
<!-- 3 -->
    <script>
        let ladder = {
            step: 0,
            up() {
                this.step++;
                return this;
            },
            down() {
                this.step--;
                return this;
            },
            showStep() {
                alert( this.step );
                return this;
            }
        };

        ladder.up().up().down().showStep().down().showStep();
    </script>

    <!-- 4.5 -->
<!-- 1 -->
    <script>
        let obj = {};

        function A() { return obj; }
        function B() { return obj; }

        alert( new A() == new B() ); // true
    </script>
<!-- 2 -->
    <script>
        function Calculator() {
            this.read = function() {
            this.a = +prompt('a?', 0);
            this.b = +prompt('b?', 0);
            };

            this.sum = function() {
            return this.a + this.b;
            };

            this.mul = function() {
            return this.a * this.b;
            };
        }

        let calculator = new Calculator();
        calculator.read();

        alert( "Sum=" + calculator.sum() );
        alert( "Mul=" + calculator.mul() );
    </script>
<!-- 3 -->
    <script>
        function Accumulator(startingValue) {
            this.value = startingValue;

            this.read = function() {
                this.value += +prompt('How much to add?', 0);
            };
        }

        let accumulator = new Accumulator(1);
        accumulator.read();
        accumulator.read();
        alert(accumulator.value);
    </script>
</body>
</html>